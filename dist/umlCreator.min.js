var UmlCreator=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.noop=function(){},t.isFn=function(t){return"function"==typeof t},t.isArray=function(t){return Array.isArray(t)},t.const=function(t){return function(){return t}},t.toFactory=function(e,n){return e=void 0===e?n:e,t.isFn(e)?e:t.const(e)},t.generateID=function(){return"_"+Math.random().toString(36).substr(2,9)},t}();e.Utils=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){"close"===t?this.closeMenu():(this.menuItems=t,this.config=e,this.init())}return t.prototype.init=function(){this.closeMenu(),d3.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu "),d3.select("body").on("mousedown.d3-context-menu",this.closeMenu),d3.select("body").on("click.d3-context-menu",this.closeMenu),d3.selectAll(".d3-context-menu").append("ul").call(this.createNestedMenu.bind(this)),d3.select(".d3-context-menu").style("left",d3.event?d3.event.pageX-2+"px":"0px").style("top",d3.event?d3.event.pageY-2+"px":"0px").style("display","block"),d3.event&&(d3.event.preventDefault(),d3.event.stopPropagation())},t.prototype.closeMenu=function(){d3.select(".d3-context-menu").remove(),d3.select("body").on("mousedown.d3-context-menu",null)},t.prototype.createNestedMenu=function(t){var e=this;t.selectAll("li").data(this.menuItems).enter().append("li").each(function(t,n){d3.select(this).html(t.title).on("click",function(){t.action&&t.action(n),e.closeMenu()})})},t}();e.ContextMenu=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t){if(null==t)throw Error("UML cannot be null");this.key=t.key,this.name=t.name,this.properties=t.properties,this.methods=t.methods,this.position=t.position}}();e.UML=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t){t&&(this.source=t.source,this.target=t.target)}}();e.Link=i},function(t,e,n){n(5),t.exports=n(6)},function(t,e,n){t.exports=n.p+"umlCreator.min.css"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),r=n(16),o=n(17),s=n(1),a=n(18),u=n(0),d=n(19),l=n(20),h=function(){function t(t){this.nodesData=new Array,this.nodes=new Array,this.links=new Array,this.currentLink=new o.FakeLink,this.callbackChanges=new Array,this.init(t),this.svgContainer=this.create(),this.addLinksConfiguration()}return t.prototype.fromJson=function(t){var e=this;if(!t.data)throw"Json must have a data property, ex. data: { nodes:[], links: [] }";if(!u.Utils.isArray(t.data.nodes))throw"Json property 'data.nodes' must be of type array, ex. data: { nodes:[], links: [] }";if(t.data.links&&!u.Utils.isArray(t.data.links))throw"Json property 'data.links' must be of type array, ex. data: { nodes:[], links: [] }";t.data.links&&t.data.links.length>0&&(this.links=t.data.links),t.data.nodes&&t.data.nodes.length>0&&t.data.nodes.forEach(function(t){e.addNewUMLNode(t)}),this.restartLinks()},t.prototype.toJson=function(){if(!this.links&&!this.nodes)return new a.JsonUMLCreator;if(!this.nodes&&this.links)return new a.JsonUMLCreator([],this.links);var t=this.nodes.map(function(t){return t.formatPropertiesAndMethods(t.uml)});return new a.JsonUMLCreator(t,this.links)},t.prototype.on=function(t,e){var n=new d.UMLOnChange({type:t,callback:e});this.callbackChanges.push(n)},t.prototype.executeOnChangeCallbacks=function(t,e){this.callbackChanges.forEach(function(n){u.Utils.isArray(n.type)?n.type.find(function(e){return e==t})&&n.callback(e):n.type==t&&n.callback(e)})},t.prototype.init=function(t){var e=this;this.containeRef=t||"body",d3.select(this.containeRef).append("xhtml:div").attrs({id:"uml_diagram_workspace",class:"uml-diagram-creator"}),d3.select(this.containeRef).append("xhtml:ul").attr("class","uml-menu").append("li").append("span").attrs({id:"uml_menu_item",draggable:"true",class:"uml-class-icon"}),this.workspaceElement=document.getElementById("uml_diagram_workspace"),this.workspaceElement.addEventListener("dragover",function(t){t.preventDefault()}),this.workspaceElement.addEventListener("drop",function(t){var n=e.nodesData.length>0?e.nodesData[e.nodesData.length-1].key:0;n++;var i=r.createDefault(n,{x:t.x,y:t.y});e.addNewUMLNode(i)})},t.prototype.addLinksConfiguration=function(){var t=this.svgContainer,e=this;t.append("svg:defs").append("svg:marker").attr("id","arrow").attr("viewBox","0 -5 10 10").attr("refX",6).attr("markerWidth",3).attr("markerHeight",3).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5").attr("fill","#000"),this.currentLink.dragLine=t.append("svg:path").attr("class","link dragline hidden").attr("d","M0,0L0,0"),this.svgContainer.append("svg:g").attr("key","links"),window.addEventListener("mousemove",function(t){e.currentLink.mousedownNode&&e.currentLink.dragLine.attr("d","M"+e.currentLink.mousedownNode.x+","+e.currentLink.mousedownNode.y+"L"+t.clientX+","+t.clientY)}),window.addEventListener("mouseup",function(){e.currentLink.mousedownNode&&(e.currentLink.dragLine.classed("hidden",!0).style("marker-end",""),e.resetCurrentLink())})},t.prototype.resetCurrentLink=function(){this.currentLink.mousedownNode=null,this.currentLink.mouseupNode=null},t.prototype.create=function(){var t=d3.select("#uml_diagram_workspace").append("svg").attrs({width:window.innerWidth,height:window.innerHeight}).append("g");return window.addEventListener("resize",function(){d3.select(t.node().parentNode).attrs({width:window.innerWidth,height:window.innerHeight})}),t},t.prototype.addNewUMLNode=function(t){var e=this;this.nodesData.push(t);var n=new i.UMLCreator(t,this.svgContainer);this.nodes.push(n),n.instance.on("click",function(){"#FF9800"==n.getBorderColor()?(e.removeLinkArrows(n),n.changeBorderColor(n.defaultBorderColor),n.enableDrag()):(n.changeBorderColor("#FF9800"),e.addLinkArrows(n,"#a3a3a3","#000000"),n.disableDrag())}).on("mouseover",function(){e.currentLink.mousedownNode&&n.instance!==e.currentLink.mousedownNode&&n.changeBorderColor("#FF9800")}).on("mouseout",function(){e.currentLink.mousedownNode&&n.instance!==e.currentLink.mousedownNode&&n.changeBorderColor(n.defaultBorderColor)}).on("mouseup",function(){if(e.currentLink.mousedownNode){if(e.currentLink.dragLine.classed("hidden",!0).style("marker-end",""),n.instance===e.currentLink.mousedownNode)return e.resetCurrentLink(),void e.nodes.forEach(function(t){t.enableDrag()});n.changeBorderColor(n.defaultBorderColor),e.currentLink.to=n.uml.key;var t=e.currentLink.toLink();e.links.find(function(e){return e.source==t.source&&e.target==t.target})||e.links.push(t),e.resetCurrentLink(),e.restartLinks(),e.nodes.forEach(function(t){t.enableDrag()})}}),n.on("property",function(){e.executeOnChangeCallbacks(l.UMLOnChangeType.change,n.formatPropertiesAndMethods(n.uml)),e.executeOnChangeCallbacks(l.UMLOnChangeType.changeProperty,n.formatPropertiesAndMethods(n.uml))}),n.on("method",function(){e.executeOnChangeCallbacks(l.UMLOnChangeType.change,n.formatPropertiesAndMethods(n.uml)),e.executeOnChangeCallbacks(l.UMLOnChangeType.changeMethod,n.formatPropertiesAndMethods(n.uml))}),n.on("position",function(){e.executeOnChangeCallbacks(l.UMLOnChangeType.change,n.formatPropertiesAndMethods(n.uml)),e.executeOnChangeCallbacks(l.UMLOnChangeType.changePosition,n.formatPropertiesAndMethods(n.uml))}),n.on("name",function(){e.executeOnChangeCallbacks(l.UMLOnChangeType.change,n.formatPropertiesAndMethods(n.uml))})},t.prototype.addLinkArrows=function(t,e,n){var i=this;["top","right","bottom","left"].forEach(function(r){var o,s,a,u,d,l;"top"==r?(o=0,s=30,a=t.width/2,u=-10,d=t.width/2,l=-30):"right"==r?(o=-30,s=0,a=t.width+10,u=t.height/2,d=t.width+30,l=t.height/2):"bottom"==r?(o=0,s=-30,a=t.width/2,u=t.height+10,d=t.width/2,l=t.height+30):(o=30,s=0,a=-10,u=t.height/2,d=-30,l=t.height/2);var h=t.instance.append("svg:defs").attr("key","triangle-right").append("svg:marker").attr("id",t.uml.key+"triangle-"+r).attr("refX",3).attr("refY",3).attr("markerWidth",30).attr("markerHeight",30).attr("orient","auto").append("path").attr("d","M 0 0 6 3 0 6 1.5 3").style("cursor","pointer").style("transition","fill 0.2s ease-in-out").style("fill",e),c=t.instance.append("line").attr("group",t.uml.key+"_arrow").attr("key","arrow-"+r).attr("x1",a).attr("y1",u).attr("x2",d).attr("y2",l).attr("marker-end","url(#"+t.uml.key+"triangle-"+r+")").attr("stroke-width",2).style("cursor","pointer").style("transition","stroke 0.2s ease-in-out").style("stroke",e);c.on("mouseover",function(){h.style("fill",n),c.style("stroke",n)}).on("mouseout",function(){h.style("fill",e),c.style("stroke",e)}).on("mousedown",function(){t.disableDrag(),i.removeLinkArrows(t),t.changeBorderColor(t.defaultBorderColor),i.currentLink.from=t.uml.key,i.currentLink.mousedownNode=t.instance,i.currentLink.selectedNode=i.currentLink.mousedownNode===i.currentLink.selectedNode?null:i.currentLink.mousedownNode,i.currentLink.selectedLink=null,i.currentLink.mousedownNode.x=d3.event.x+o,i.currentLink.mousedownNode.y=d3.event.y+s,i.currentLink.dragLine.style("marker-end","url(#arrow)").classed("hidden",!1).attr("d","M"+i.currentLink.mousedownNode.x+","+i.currentLink.mousedownNode.y+"L"+i.currentLink.mousedownNode.x+","+i.currentLink.mousedownNode.y)})})},t.prototype.removeLinkArrows=function(t){["top","right","bottom","left"].forEach(function(e){t.instance.select('[key="arrow-'+e+'"]').remove(),t.instance.select('[key="triangle-'+e+'"]').remove()})},t.prototype.restartLinks=function(){var t=this,e=this.svgContainer.select('[key="links"]').selectAll("path");(e=e.data(this.links)).style("marker-end","url(#arrow)"),e.exit().remove(),(e=e.enter().append("svg:path").attr("class","link").attr("source",function(t){return t.source}).attr("target",function(t){return t.target})).style("marker-end","url(#arrow)").on("mousedown",function(t){d3.event.ctrlKey}).on("contextmenu",function(e){new s.ContextMenu([{title:"Remove",action:function(){t.links.splice(e.index,1),t.restartLinks()}}])}).merge(e),d3.forceSimulation(this.nodes).force("link",d3.forceLink().id(function(t){return t.uml.key}).links(this.links).distance(100)).force("charge",d3.forceManyBody().strength(-100)).on("tick",function(){e.attr("d",function(t){var e=t.source.uml.position.x+t.source.width/2,n=t.source.uml.position.y+t.source.height/2,i=t.target.uml.position.x+t.target.width/2,r=t.target.uml.position.y+t.target.height/2,o=i-e,s=r-n,a=Math.sqrt(o*o+s*s),u=o/a,d=s/a;return"M"+(e+30*u)+","+(n+30*d)+"L"+(i-30*u)+","+(r-30*d)})}).alphaTarget(.2).restart()},t}();e.init=function(t){return new h(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(1),o=n(8),s=n(10),a=n(12),u=n(13),d=n(14),l=n(15),h=function(){function t(t,e){this.bgColor="#FFFFE0",this.defaultBorderColor="#000000",this.pixelByLetter=8,this.width=100,this.height=50,this.headerHeight=30,this.propertiesHeight=30,this.methodsHeight=30,this.inputHeight=25,this.padding=10,this.initialConfig(t),this.instance=this.create(e)}return t.prototype.on=function(t,e){"property"==t?this.onPropertyChange=e:"method"==t?this.onMethodChange=e:"position"==t?this.onPositionChange=e:"name"==t&&(this.onNameChange=e)},t.prototype.initialConfig=function(t){this.uml=t,this.width=this.minRequiredWidth>this.width?this.minRequiredWidth:this.width,this.width=this.width+this.padding+15,this.propertiesHeight=t.properties.length*this.inputHeight,this.methodsHeight=t.methods.length*(this.inputHeight+this.padding),this.height=this.headerHeight+this.propertiesHeight+this.methodsHeight},t.prototype.create=function(t){var e=this,n=t.append("g").attrs({key:this.uml.key,height:this.height,width:this.width,x:this.uml.position.x,y:this.uml.position.y,transform:"translate(\n                "+this.uml.position.x+",\n                "+this.uml.position.y+")"}).on("contextmenu",function(){new r.ContextMenu([{title:"Add Property",action:function(){e.addRemoveProperty()}},{title:"Add Method",action:function(){e.addRemoveMethod()}},{title:"Remove",action:function(){n.remove()}}])});return this.addHeader(this.uml.key,n,this.uml.name),this.addProperties(this.uml.key,n,this.uml.properties),this.addMethods(this.uml.key,n,this.uml.methods),this.bindDrag(n),this.addBorder(n),n},t.prototype.enableDrag=function(){this.bindDrag(this.instance)},t.prototype.disableDrag=function(){this.instance.on("mousedown.start",null),this.instance.on("mousedown.drag",null)},t.prototype.changeBorderColor=function(t){this.instance.select('[type="border"]').attr("stroke",t)},t.prototype.getBorderColor=function(){return this.instance.select('[type="border"]').attr("stroke")},t.prototype.addBorder=function(t){t.append("rect").attrs({key:"border",type:"border",stroke:this.defaultBorderColor,"stroke-width":"1px",height:this.height,width:this.width,fill:"none",style:"cursor:grab;"})},t.prototype.addHeader=function(t,e,n){var i,r=this,o=e.append("g").attr("type","header");return o.append("rect").attrs({type:"back-header",stroke:this.defaultBorderColor,"stroke-width":"1px",height:this.headerHeight,width:this.width,fill:this.bgColor,style:"cursor:grab;",y:0}),o.append("foreignObject").attr("x",(this.width-n.length*this.pixelByLetter+2)/2).attr("y",this.headerHeight/6).attr("width",n.length*this.pixelByLetter+2).attr("height",this.inputHeight).attr("key",t+"_header").append("xhtml:div").append("input").attr("class","uml_input").attr("value",n).on("focus",function(){i=r.uml.name,r.disableDrag(),d3.select("body").attr("canZoom",!1)}).on("focusout",function(){setTimeout(function(){r.enableDrag(),d3.select("body").attr("canZoom",!0),i!=r.uml.name&&r.onNameChange&&(i=r.uml.name,r.onNameChange())},200)}).on("input",function(){var e=d3.select('foreignObject[key="'+t+'_header"]'),n=d3.select('foreignObject[key="'+t+'_header"] input');r.uml.name=n.node().value;var i=n.node().value.length*r.pixelByLetter+2;r.updateWidth(e,i)}),o},t.prototype.addProperties=function(t,e,n){var o,s=this,a=this,u=e.append("g").attr("type","properties");return u.append("rect").attrs({type:"back-properties",stroke:this.defaultBorderColor,"stroke-width":"1px",height:this.propertiesHeight,width:this.width,fill:this.bgColor,style:"cursor:grab;",y:this.headerHeight}),u.selectAll("text").data(n).enter().append("foreignObject").attr("key",function(e){return e.key=t+"_property_"+i.Utils.generateID(),e.key}).attr("x",this.padding).attr("y",function(t,e){return(e+1.3)*s.inputHeight+"px"}).attr("width",function(t){return s.getInputPropertyWidth(t)+s.padding+15}).attr("height",this.inputHeight).append("xhtml:div").append("input").attr("class","uml_input").attr("key",function(t){return t.key+"_input"}).attr("value",function(t){return s.getVisibilitySymbol(t.visibility)+(t.name+": ")+t.type}).on("focus",function(t){o=t.name,s.disableDrag(),d3.select("body").attr("canZoom",!1)}).on("focusout",function(t){setTimeout(function(){s.enableDrag(),d3.select("body").attr("canZoom",!0),o!=t.name&&s.onPropertyChange&&(o=t.name,s.onPropertyChange())},200)}).on("input",function(t){var e=d3.select('foreignObject[key="'+t.key+'"]'),n=e.select('input[key="'+t.key+'_input"]');t.name=n.node().value,t.type="";var i=s.getInputPropertyWidth(t)+s.padding;s.updateWidth(e,i)}).on("contextmenu",function(t){new r.ContextMenu([{title:"Remove",action:function(){a.addRemoveProperty(t.key)}}])}),u},t.prototype.addMethods=function(t,e,n){var o,s=this,a=this,u=e.append("g").attr("type","methods");return u.append("rect").attrs({type:"back-methods",stroke:this.defaultBorderColor,"stroke-width":"1px",height:this.methodsHeight,width:this.width,fill:this.bgColor,style:"cursor:grab;",y:this.propertiesHeight+this.headerHeight}),u.selectAll("text").data(n).enter().append("foreignObject").attr("key",function(e){return e.key=t+"_method_"+i.Utils.generateID(),e.key}).attr("x",this.padding).attr("y",function(t,e){return s.propertiesHeight+s.headerHeight+s.inputHeight*(e+0)+s.padding+"px"}).attr("width",function(t){var e=0,n=t.parameters.map(function(t){return t.name.length+t.type.length});return n.length>0&&(e=n.reduce(function(t,e){return t+e})),(t.name.length+t.type.length+e)*s.pixelByLetter+s.padding+15}).attr("height",this.inputHeight).append("xhtml:div").append("input").attr("key",function(t){return t.key+"_input"}).attr("class","uml_input").attr("value",function(t){var e=t.parameters.map(function(t){return t.name+": "+t.type}),n=t.type?": "+t.type.trim():"";return s.getVisibilitySymbol(t.visibility)+t.name+"("+e.join(", ")+")"+n}).on("focus",function(t){o=t.name,s.disableDrag(),d3.select("body").attr("canZoom",!1)}).on("focusout",function(t){setTimeout(function(){s.enableDrag(),d3.select("body").attr("canZoom",!0),o!=t.name&&s.onMethodChange&&(o=t.name,s.onMethodChange())},200)}).on("input",function(t){var e=d3.select('foreignObject[key="'+t.key+'"]'),n=e.select('input[key="'+t.key+'_input"]');t.name=n.node().value,t.type="",t.parameters=[];var i=s.getInputPropertyWidth(t)-3*s.padding;s.updateWidth(e,i+s.padding)}).on("contextmenu",function(t){new r.ContextMenu([{title:"Remove",action:function(){a.addRemoveMethod(t.key)}}])}),u},t.prototype.updateWidth=function(t,e){var n=e,i=this.instance.select('[type="header"] foreignObject'),r=this.instance.select('rect[type="back-header"]'),o=this.instance.select('rect[type="back-properties"]'),s=this.instance.select('rect[type="back-methods"]'),a=this.minRequiredWidth;e<a&&(n=a),this.width=n,this.instance.attr("width",n),r.attr("width",n),o.attr("width",n),s.attr("width",n),this.instance.select('[type="border"]').attr("width",n);var u=this.uml.name.length*this.pixelByLetter,d=(n-u)/2;i.attr("width",u),i.attr("x",d),t.attr("width",e)},t.prototype.bindDrag=function(t){var e,n,i,o,s=this,a=!1,u=d3.drag().on("start",function(){new r.ContextMenu("close"),e=t.attr("x")-d3.event.x,n=t.attr("y")-d3.event.y}).on("drag",function(){a=!0,i=d3.event.x+e,o=d3.event.y+n,new r.ContextMenu("close"),t.attr("x",i).attr("y",o).attr("transform","translate("+i+","+o+")"),s.uml.position=new l.UMLPosition({x:i,y:o})}).on("end",function(){s.onPositionChange&&a&&(a=!1,s.onPositionChange())});t.call(u)},t.prototype.addRemoveProperty=function(t){var e=!1;if(t){var n=this.uml.properties.findIndex(function(e){return e.key==t});n>-1&&(this.uml.properties.splice(n,1),e=!0)}else this.uml.properties.push(s.createDefaultProperty()),e=!0;e&&(d3.select('[key="'+this.uml.key+'"]').select('[type="header"]').remove(),d3.select('[key="'+this.uml.key+'"]').select('[type="properties"]').remove(),d3.select('[key="'+this.uml.key+'"]').select('[type="methods"]').remove(),this.initialConfig(this.uml),this.uml=this.formatPropertiesAndMethods(this.uml),this.instance.select('[key="border"]').remove(),this.addHeader(this.uml.key,this.instance,this.uml.name),this.addProperties(this.uml.key,this.instance,this.uml.properties),this.addMethods(this.uml.key,this.instance,this.uml.methods),this.addBorder(this.instance),this.onPropertyChange&&this.onPropertyChange())},t.prototype.addRemoveMethod=function(t){var e=!1;if(t){var n=this.uml.methods.findIndex(function(e){return e.key==t});n>-1&&(this.uml.methods.splice(n,1),e=!0)}else this.uml.methods.push(o.createDefaultMethod()),e=!0;e&&(d3.select('[key="'+this.uml.key+'"]').select('[type="header"]').remove(),d3.select('[key="'+this.uml.key+'"]').select('[type="properties"]').remove(),d3.select('[key="'+this.uml.key+'"]').select('[type="methods"]').remove(),this.initialConfig(this.uml),this.uml=this.formatPropertiesAndMethods(this.uml),this.instance.select('[key="border"]').remove(),this.addHeader(this.uml.key,this.instance,this.uml.name),this.addProperties(this.uml.key,this.instance,this.uml.properties),this.addMethods(this.uml.key,this.instance,this.uml.methods),this.addBorder(this.instance),this.onMethodChange&&this.onMethodChange())},t.prototype.formatPropertiesAndMethods=function(t){for(var e=0;e<t.properties.length;e++){var n=t.properties[e],i=n.name.split(":");if(i.length>1)if(n.type=i[1].trim(),(o=i[0].trim().split(" ")).length>1){switch(o[0].trim().toLowerCase()){case u.PropertyVisibilitySymbol.public:n.visibility=a.PropertyVisibility.public;break;case u.PropertyVisibilitySymbol.private:n.visibility=a.PropertyVisibility.private;break;case u.PropertyVisibilitySymbol.protected:n.visibility=a.PropertyVisibility.protected;break;default:n.visibility=""}n.name=o[1].trim()}else n.name=i[0].trim();t.properties[e]=n}for(e=0;e<t.methods.length;e++){var r=t.methods[e];if(""==r.type&&0==r.parameters.length){var o,s=r.name.split("(");if((o=s[0].trim().split(" ")).length>1)switch(r.name=o[1].trim(),o[0].trim().toLowerCase()){case u.PropertyVisibilitySymbol.public:r.visibility=a.PropertyVisibility.public;break;case u.PropertyVisibilitySymbol.private:r.visibility=a.PropertyVisibility.private;break;case u.PropertyVisibilitySymbol.protected:r.visibility=a.PropertyVisibility.protected;break;default:r.visibility=""}else r.name=o[0].trim();if(s.length>1){for(var l=s[1].trim().split(")"),h=l[0].trim().split(","),c=0;c<h.length;c++){var p=h[c].split(":"),y="",m=p[0].trim();p.length>1&&(y=p[1].trim()),(m||y)&&r.parameters.push(new d.UMLParameter({name:m,type:y}))}if(l.length>1){y=l[1].trim();r.type=0==y.indexOf(":")?y.substring(1):y}}else r.name=o[0].trim()}}return t},t.prototype.getInputPropertyWidth=function(t){return(t.name.length+t.type.length)*this.pixelByLetter},t.prototype.getVisibilitySymbol=function(t){if(!t)return" ";switch(t.toLowerCase()){case a.PropertyVisibility.public:return u.PropertyVisibilitySymbol.public+" ";case a.PropertyVisibility.private:return u.PropertyVisibilitySymbol.private+" ";case a.PropertyVisibility.protected:return u.PropertyVisibilitySymbol.protected+" ";default:return" "}},Object.defineProperty(t.prototype,"minRequiredWidth",{get:function(){var t=Math.max.apply(Math,this.uml.properties.map(function(t){return t.name.length+t.type.length})),e=Math.max.apply(Math,this.uml.methods.map(function(t){var e=0,n=t.parameters.map(function(t){return t.name.length+t.type.length});return n.length>0&&(e=n.reduce(function(t,e){return t+e})),t.name.length+t.type.length+e})),n=t>e?t:e;return(n>this.uml.name.length?n:this.uml.name.length)*this.pixelByLetter+this.padding},enumerable:!0,configurable:!0}),t}();e.UMLCreator=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9);e.createDefaultMethod=function(){return new i.UMLMethod({name:"Method",type:"Type",visibility:"public",parameters:[{name:"parameter",type:"Type"}]})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t){t&&(this.key=t.key,this.name=t.name,this.visibility=t.visibility,this.type=t.type,this.parameters=t.parameters)}}();e.UMLMethod=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(11);e.createDefaultProperty=function(){return new i.UMLProperty({name:"Property",type:"Type",visibility:"public"})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t){t&&(this.key=t.key,this.name=t.name,this.type=t.type,this.visibility=t.visibility)}}();e.UMLProperty=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.public="public",t.private="private",t.protected="protected"}(e.PropertyVisibility||(e.PropertyVisibility={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.public="+",t.private="-",t.protected="#"}(e.PropertyVisibilitySymbol||(e.PropertyVisibilitySymbol={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t){t&&(this.name=t.name,this.type=t.type)}}();e.UMLParameter=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t){t&&(this.x=t.x,this.y=t.y)}}();e.UMLPosition=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);e.createDefault=function(t,e){return new i.UML({key:t,name:"ClassName",methods:[{name:"Method",type:"Type",visibility:"public",parameters:[{name:"parameter",type:"Type"}]}],properties:[{name:"Property",type:"Type",visibility:"public"}],position:{x:e.x,y:e.y}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=function(){function t(t){t&&(this.from=t.from,this.to=t.to,this.selectedNode=t.selectedNode,this.selectedLink=t.selectedLink,this.mousedownNode=t.mousedownNode,this.dragLine=t.dragLine)}return t.prototype.toLink=function(){return new i.Link({source:this.from,target:this.to})},t}();e.FakeLink=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(2),o=function(){return function(t,e){this.data=new s,this.data.nodes=[],this.data.links=[],t&&(this.data.nodes=t.map(function(t){return new r.UML(t)})),e&&(this.data.links=e.map(function(t){return new i.Link(t)}))}}();e.JsonUMLCreator=o;var s=function(){return function(){}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t){t&&(this.type=t.type,this.callback=t.callback)}}();e.UMLOnChange=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.change="change",t.changeProperty="change:property",t.changeMethod="change:method",t.changePosition="change:position"}(e.UMLOnChangeType||(e.UMLOnChangeType={}))}]);